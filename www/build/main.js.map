{"version":3,"sources":["../../src/pages/home/home.ts","../../src/pages/profile/profile.ts","../../src/pages/details/details.ts","../../src/pages/login/login.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/issue-list/issue-list.ts","../../src/pages/issue-map/issue-map.ts","../../src/pages/create-issue/create-issue.ts","../../src/providers/picture/picture.ts","../../src/pages/tuto/tuto.ts","../../src/pages/register/register.ts","../../src/providers/user/user.ts","../../src/models/issue.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/providers/auth/auth.ts","../../src/providers/issue/issue.ts","../../src/app/app.component.ts","../../src/models/issue-action.ts","../../src/models/auth-request.ts","../../src/models/new-user.ts","../../src/providers/auth-interceptor/auth-interceptor.ts","../../src/pages/issue-comments/issue-comments.ts","../../src/pages/issue-comment-form/issue-comment-form.ts","../../src/models/issue-comment.ts","../../src/app/config.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\n\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { LoginPage } from '../login/login';\n\nimport { ProfilePage } from '../profile/profile';\nimport { IssueListPage } from '../issue-list/issue-list';\nimport { IssueMapPage } from '../issue-map/issue-map';\nimport { User } from '../../models/user';\nimport { TutoPage } from '../tuto/tuto';\n\n\n\nexport interface HomePageTab {\n  title: string;\n  icon: string;\n  component: Function;\n}\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  rootPage: any;\n  pages: Array<{title: string, component: any, user?: User}>;\n  profile: User;\n\n  constructor(\n    private auth: AuthProvider,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public storage: Storage\n  ) {\n    // set the root page\n    this.rootPage = IssueMapPage;\n\n    this.auth.getUser().subscribe((user) => {\n      this.profile = user;\n\n      // set our app's pages\n      this.pages = [\n        { title: 'Mon profile', component: ProfilePage, user: this.profile },\n        { title: 'Problèmes reportés', component: IssueListPage, user: this.profile },\n        { title: 'Liste des problèmes', component: IssueListPage }\n      ];\n    });\n  }\n\n  ionViewDidLoad() {\n    this.storage.get('tuto-done').then(done => {\n      if (!done) {\n        this.storage.set('tuto-done', true);\n        this.navCtrl.setRoot(TutoPage);\n      }\n    });\n  }\n\n  logOut() {\n    this.auth.logOut();\n  }\n\n  openPage(page: any) {\n    console.log(page);\n    this.navCtrl.push(page.component, {\n      user: page.user,\n      title: page.title\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\n\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { User } from '../../models/user';\n\n/**\n * Generated class for the ProfilePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage {\n\n  profile: User;\n  role: {\n    name: string,\n    icon: string\n  };\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private auth: AuthProvider\n  ) {}\n\n  ionViewDidLoad() {  \n    this.profile = this.navParams.data.user;\n  }\n\n  loadUserRole(user: User) {\n    if(user.roles.indexOf('manager')) {\n      this.role = {\n        name: 'Gestionnaire',\n        icon: 'build'\n      };\n    } else {\n      this.role = {\n        name: 'Citoyen',\n        icon: 'person'\n      };\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts","import {\n  Component\n} from '@angular/core';\nimport {\n  NavController,\n  NavParams,\n  FabContainer\n} from 'ionic-angular';\n\nimport {\n  Issue\n} from '../../models/issue';\nimport {\n  IssueProvider\n} from '../../providers/issue/issue';\nimport {\n  UserProvider\n} from '../../providers/user/user';\nimport {\n  User\n} from '../../models/user';\nimport {\n  ProfilePage\n} from '../profile/profile';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { IssueAction } from '../../models/issue-action';\n\n/**\n * Generated class for the DetailsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-details',\n  templateUrl: 'details.html',\n})\nexport class DetailsPage {\n\n  profile: User;\n  issue: Issue;\n  issueAddress: string;\n  loadState;\n  startMap;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private issueService: IssueProvider,\n    private auth: AuthProvider,\n  ) {\n    this.loadState = issueService.loadIssueState;\n    this.startMap = issueService.startExternalMap;\n  }\n\n  ionViewDidLoad() {\n    this.loadIssueDetails(this.navParams.data.id);\n\n    this.auth.getUser().subscribe((user) => {\n      this.profile = user;\n    });\n  }\n\n  private loadIssueDetails(id: string) {\n    this.issueService.getIssueById(id, ['actions', 'assignee', 'creator', 'issueType']).subscribe(issue => {\n      this.issue = issue;\n      this.issueService.reverseGeocode(issue.location.coordinates[1], issue.location.coordinates[0]).then((issueAddress) => {\n        this.issueAddress = issueAddress;\n      }).catch((error) => {\n        this.issueAddress = 'Adresse inconnue';\n      });\n    });\n  }\n\n  goToUser(user: User) {\n    this.navCtrl.push(ProfilePage, {\n      user: user\n    });\n  }\n\n  changeStatus(newStatus: string, fab: FabContainer) {\n    fab.close();\n    console.log(\"New status\", newStatus);\n    let issueAction = new IssueAction();\n    issueAction.reason = `ìssue ${newStatus}`;\n    issueAction.type = newStatus;\n    console.log('issueAction', issueAction);\n    this.issueService.addIssueAction(this.issue.id, issueAction).subscribe(issue => {\n      console.log('change issue status', issue);\n      switch (issue.type) {\n        case 'start':\n          this.issue.state = 'inProgress';\n          break;\n        case 'reject':\n          this.issue.state = 'rejected';\n          break;\n        case 'resolve':\n          this.issue.state = 'resolved';\n          break;\n      }\n    }, (err) => {\n      console.warn(\"Couldn't change the issue status\", err);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/details/details.ts","import { Component, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { NavController, NavParams } from 'ionic-angular';\n\nimport { AuthRequest } from '../../models/auth-request';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { RegisterPage } from '../register/register';\n\n\n/**\n * Login page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n@Component({\n  templateUrl: 'login.html'\n})\nexport class LoginPage {\n\n  /**\n   * This authentication request object will be updated when the user\n   * edits the login form. It will then be sent to the API.\n   */\n  authRequest: AuthRequest;\n\n  /**\n   * If true, it means that the authentication API has return a failed response\n   * (probably because the name or password is incorrect).\n   */\n  loginError: boolean;\n\n  /**\n   * The login form.\n   */\n  @ViewChild(NgForm)\n  form: NgForm;\n\n  constructor(private auth: AuthProvider, public navCtrl: NavController, public navParams: NavParams) {\n    this.authRequest = new AuthRequest();\n  }\n\n  /**\n   * Called when the login form is submitted.\n   */\n  onSubmit($event) {\n\n    // Prevent default HTML form behavior.\n    $event.preventDefault();\n\n    // Do not do anything if the form is invalid.\n    if (this.form.invalid) {\n      return;\n    }\n\n    // Hide any previous login error.\n    this.loginError = false;\n\n    // Perform the authentication request to the API.\n    this.auth.logIn(this.authRequest).subscribe(undefined, err => {\n      this.loginError = true;\n      console.warn(`Authentication failed: ${err.message}`);\n    });\n  }\n\n  goToRegister() {\n    this.navCtrl.push(RegisterPage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 176;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 176\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 222;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 222\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\n\nimport { IssueProvider } from '../../providers/issue/issue';\nimport { Issue } from '../../models/issue';\nimport { DetailsPage } from '../details/details';\nimport { User } from '../../models/user';\n\n/**\n * Generated class for the IssueListPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-issue-list',\n  templateUrl: 'issue-list.html',\n})\nexport class IssueListPage {\n\n\n  page: number;\n  totalPage: number;\n  issues: Issue[];\n  filteredIssues: Issue[];\n  loadState;\n  pageTitle: string;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams, \n    private issueService: IssueProvider\n  ) {\n    this.loadState = issueService.loadIssueState;\n    this.page = 1;\n    this.totalPage = 2;\n  }\n\n  ionViewDidLoad() {\n    this.loadIssues();\n    this.pageTitle = this.navParams.data.title ? this.navParams.data.title : 'Liste des problèmes';\n  }\n\n  onInput(event: any) {\n    // set val to the value of the searchbar\n    let searchedValue = event.target.value;\n\n    // if the value is an empty string don't fetch the issues\n    if (searchedValue && searchedValue.trim() != '') {\n      this.filterIssueList(searchedValue);\n    } else {\n      this.filteredIssues = this.issues;\n    }\n  }\n\n  onCancel() {\n    this.filteredIssues = this.issues;\n  }\n\n  private loadIssues(search?: string) {\n    let searchedValue = search ? search : undefined;\n    this.issueService.getIssues(['creator'], searchedValue, ['-createdAt']).subscribe(issues => {\n      if(this.navParams.data.user) {\n        this.issues = this.filterByCreator(this.navParams.data.user, issues);\n      } else {\n        this.issues = issues;\n      }\n      this.filteredIssues = this.issues;\n    });\n  }\n\n  private filterIssueList(input: string) {\n    this.filteredIssues = this.issues.filter((issue) => issue.description.toLowerCase().indexOf(input.toLowerCase())!==-1);\n  }\n\n  private filterByCreator(creator: User, issues: Issue[]): Issue[] {\n    return issues.filter((issue) => issue.creator.name == creator.name);\n  }\n\n  goToDetails(id: string) {\n    this.navCtrl.push(DetailsPage, {\n      id: id\n    });\n  }\n\n  doInfinite(infiniteScroll) {\n    this.page = this.page+1;\n    this.issueService.getIssues(['creator'], undefined, ['-createdAt'], this.page).subscribe((newIssues) =>  {\n      if(newIssues.length==20) this.totalPage++;\n      if(this.navParams.data.user) {\n        this.issues = this.issues.concat(this.filterByCreator(this.navParams.data.user, newIssues));\n      } else {\n        this.issues = this.issues.concat(newIssues);\n      }\n      this.filteredIssues = this.issues;\n      console.log(this.filteredIssues);\n      infiniteScroll.complete();\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/issue-list/issue-list.ts","import { Component } from '@angular/core';\n\nimport { NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { Geolocation } from '@ionic-native/geolocation';\n\nimport {CreateIssuePage} from '../create-issue/create-issue';\nimport { LatLng, latLng, MapOptions, marker, Marker, Map, tileLayer } from 'leaflet';\n\nimport { IssueProvider } from '../../providers/issue/issue';\nimport { Issue } from '../../models/issue';\n\n\n/**\n * Generated class for the IssueMapPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-issue-map',\n  templateUrl: 'issue-map.html',\n})\nexport class IssueMapPage {\n\n  issues: Issue[];\n  mapOptions: MapOptions;\n  mapMarkers: Marker[];\n  userMarker: Marker;\n  map: Map;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams, \n    private issueService: IssueProvider,\n    private geolocation: Geolocation,\n  ) {\n    const tileLayerUrl = 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n    const tileLayerOptions = { maxZoom: 18 };\n  \n    this.geolocation.getCurrentPosition().then(position => {\n      console.log(`User is at ${position.coords.latitude}, ${position.coords.longitude}`);\n      this.mapOptions = {\n        layers: [\n          tileLayer(tileLayerUrl, tileLayerOptions)\n        ],\n        zoom: 13,\n        center: latLng(position.coords.latitude, position.coords.longitude)\n      };\n    }).catch(err => {\n      console.warn(`Could not retrieve user position because: ${err.message}`);\n    });\n    this.mapMarkers = [];\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad IssueMapPage');\n    this.loadIssues();\n\n\n  }\n\n  private loadIssues(search?: string) {\n    let searchedValue = search ? search : undefined;\n    this.issueService.getIssues(['creator'], searchedValue, ['createdAt']).subscribe(issues => {\n      this.issues = issues;\n      issues.forEach((issue) => {\n        this.mapMarkers.push(marker([issue.location.coordinates[1], issue.location.coordinates[0]]).bindTooltip(issue.description));\n      });\n      console.log(this.mapMarkers);\n    });\n  }\n\n  openCreateIssuePage(){\n    this.navCtrl.push(CreateIssuePage);\n  }\n\n  onMapReady(map: Map){\n    this.map = map;\n  }\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/issue-map/issue-map.ts","import {\n  Component\n} from '@angular/core';\nimport {\n  NavController,\n  NavParams\n} from 'ionic-angular';\nimport {\n  Geolocation\n} from '@ionic-native/geolocation';\n\nimport {\n  AuthProvider\n} from '../../providers/auth/auth';\nimport {\n  NewIssue\n} from '../../models/new-issue';\nimport {\n  IssueProvider\n} from '../../providers/issue/issue';\nimport {\n  IssueType\n} from '../../models/issue-type';\nimport {\n  QimgImage\n} from '../../models/qimg-image';\nimport {\n  PictureProvider\n} from '../../providers/picture/picture';\nimport { NgForm } from '@angular/forms';\nimport { DetailsPage } from '../details/details';\n\n/**\n * Generated class for the CreateIssuePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-create-issue',\n  templateUrl: 'create-issue.html',\n})\nexport class CreateIssuePage {\n\n  myAddress: string;\n  newIssue: NewIssue;\n  issueTypes: IssueType[];\n\n  constructor(\n    private auth: AuthProvider,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private geolocation: Geolocation,\n    private issueService: IssueProvider,\n    private pictureService: PictureProvider\n  ) {\n    this.newIssue = {\n      location: {\n        coordinates: [0, 0],\n        type: \"Point\"\n      },\n      description: '',\n      tags: [],\n      imageUrl: '',\n      issueTypeHref: ''\n    };\n  }\n\n  ionViewDidLoad() {\n    this.issueService.getIssueTypes().subscribe(issueTypes => {\n      this.issueTypes = issueTypes;\n      console.log(issueTypes);\n    });\n\n    const geolocationPromise = this.geolocation.getCurrentPosition();\n    geolocationPromise.then(position => {\n      this.newIssue.location.coordinates[1] = position.coords.latitude;\n      this.newIssue.location.coordinates[0] = position.coords.longitude;\n      console.log(`User is at ${this.newIssue.location.coordinates[1]}, ${this.newIssue.location.coordinates[0]}`);\n      this.issueService.reverseGeocode(this.newIssue.location.coordinates[1], this.newIssue.location.coordinates[0]).then((myAddress) => {\n        this.myAddress = myAddress;\n      }).catch((error) => {\n        this.myAddress = 'Adresse inconnue';\n      });\n    }).catch(err => {\n      console.warn(`Could not retrieve user position because: ${err.message}`);\n    });\n  }\n\n  takePicture() {\n    this.pictureService.takeAndUploadPicture().subscribe(picture => {\n      this.newIssue.imageUrl = picture.url;\n    }, err => {\n      console.warn('Could not take picture', err);\n    });\n  }\n\n  createIssue(form: NgForm) {\n    if (form.valid) {\n      this.issueService.createIssue(this.newIssue).subscribe(newIssue => {\n        this.navCtrl.push(DetailsPage, {\n          id: newIssue.id\n        });\n      }, err => {\n        console.warn('Could not create the new issue', err);\n      });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/create-issue/create-issue.ts","import {\n  HttpClient\n} from '@angular/common/http';\nimport {\n  Injectable\n} from '@angular/core';\nimport {\n  Camera,\n  CameraOptions\n} from '@ionic-native/camera';\nimport {\n  Observable\n} from 'rxjs/Observable';\nimport {\n  switchMap,\n  tap\n} from 'rxjs/operators';\n\nimport {\n  config\n} from '../../app/config';\nimport {\n  QimgImage\n} from '../../models/qimg-image';\n\n/**\n * Service to take pictures and upload them to the qimg API.\n */\n@Injectable()\nexport class PictureProvider {\n\n  constructor(private camera: Camera, private http: HttpClient) {\n    console.log('Hello PictureProvider Provider');\n    console.log('@@@ http client', !!this.http);\n  }\n\n  /**\n   * Takes a picture, uploads it to the qimg API, and returns the created image.\n   *\n   * Returns an observable that will emit the created QimgObject if the picture\n   * has been taken and successfully uploaded to the qimg API. An error may be\n   * emitted instead if the user does not take a picture of if the upload fails.\n   */\n  takeAndUploadPicture(): Observable < QimgImage > {\n\n    // Take a picture.\n    // This creates an observable of picture data.\n    const pictureData$ = this.takePicture();\n\n    // Once the picture has been taken, upload it to the qimg API.\n    // This returns a new observable of the resulting QimgImage object.\n    const uploadedImage$ = pictureData$.pipe(switchMap(data => this.uploadPicture(data)))\n\n    // Once the picture has been uploaded, log a message to the console\n    // indicating that all went well.\n    // This does not change the observable stream.\n    const debug$ = uploadedImage$.pipe(tap(image => console.log(`Successfully uploaded picture to ${image.url}`)));\n\n    // Return the observable stream.\n    return debug$;\n  }\n\n  /**\n   * Launches the camera to take a picture.\n   *\n   * Returns an observable that will emit the raw picture data as a string\n   * once the picture has been taken. An error may be emitted instead if the\n   * user does not take a picture.\n   */\n  private takePicture(): Observable < string > {\n\n    // Prepare camera options.\n    const options: CameraOptions = {\n      quality: 50,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE\n    };\n\n    // Start taking a picture.\n    // The promise will be resolved when the user has snapped and validated the picture.\n    // It may be rejected if the user does not take a picture.\n    const pictureDataPromise = this.camera.getPicture(options);\n\n    // Convert the promise to an observable and return it.\n    return Observable.fromPromise(pictureDataPromise);\n  }\n\n  /**\n   * Uploads raw picture data to the qimg API.\n   *\n   * Returns an observable that will emit the created QimgImage object.\n   * An error may be emitted instead if the upload fails.\n   */\n  private uploadPicture(pictureData: string): Observable < QimgImage > {\n\n    const requestBody = {\n      data: pictureData\n    };\n\n    const requestOptions = {\n      headers: {\n        Authorization: `Bearer ${config.qimgSecret}`\n      }\n    };\n\n    return this.http.post < QimgImage > (`${config.qimgUrl}/images`, requestBody, requestOptions);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/picture/picture.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { HomePage } from '../home/home';\n\n/**\n * Generated class for the TutoPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-tuto',\n  templateUrl: 'tuto.html',\n})\nexport class TutoPage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad TutoPage');\n  }\n\n  navHome() {\n    this.navCtrl.setRoot(HomePage);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tuto/tuto.ts","import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { NgForm } from '@angular/forms';\n\nimport { NewUser } from '../../models/new-user';\nimport { UserProvider } from '../../providers/user/user';\nimport { LoginPage } from '../login/login';\n\n/**\n * Generated class for the RegisterPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-register',\n  templateUrl: 'register.html',\n})\nexport class RegisterPage {\n\n  subscribeError: boolean;\n  newUser: NewUser;\n\n  /**\n   * The register form.\n   */\n  @ViewChild(NgForm)\n  registerForm: NgForm;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private userService: UserProvider\n  ) {\n    this.newUser = new NewUser();\n    this.subscribeError = false;\n  }\n\n  /**\n   * Called when the register form is submitted.\n   */\n  onSubmit($event) {\n\n    // Prevent default HTML form behavior.\n    $event.preventDefault();\n\n    // Do not do anything if the form is invalid.\n    if (this.registerForm.invalid) {\n      return;\n    }\n\n    this.subscribeError = false;\n\n    this.newUser.roles = ['citizen'];\n\n    // Create a new user.\n    this.userService.createUser(this.newUser).subscribe(user => {\n      this.navCtrl.push(LoginPage, {\n        info: \"L'utilisateur à été créé avec succès\"\n      });\n    }, err => {\n      this.subscribeError = true;\n      console.warn(`Could not create the user: ${err.message}`);\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { map } from 'rxjs/operators';\n\nimport { User } from '../../models/user';\nimport { config } from '../../app/config';\nimport { NewUser } from '../../models/new-user';\n\n/*\n  Generated class for the UserProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class UserProvider {\n\n  constructor(public http: HttpClient) {\n    console.log('Hello UserProvider Provider');\n  }\n\n  getUserById(id: string): Observable<User> {\n\n    const userUrl = `${config.apiUrl}/users/${id}`;\n    \n    return this.http.get<User>(userUrl).pipe(\n      map(user => {\n        console.log(user);\n        return user;\n      })\n    );\n  }\n\n  createUser(user: NewUser): Observable<User> {\n\n    const userUrl = `${config.apiUrl}/users`;\n    \n    return this.http.post<User>(userUrl, user).pipe(\n      map(user => {\n        console.log(user);\n        return user;\n      })\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user/user.ts","import { IssueAction } from \"./issue-action\";\nimport { IssueType } from \"./issue-type\";\nimport { User } from \"./user\";\n\nexport class Issue {\n    assigneeHref: string;\n    createdAt: Date;\n    creatorHref: string;\n    description: string;\n    href: string;\n    id: string;\n    imageUrl: string;\n    additionalImageUrls: [string];\n    issueTypeHref: string;\n    location: {\n        coordinates: [\n            number,\n            number\n        ],\n        type: string\n    };\n    state: string;\n    tags: [string];\n    updatedAt: Date;\n    actions: IssueAction[];\n    assignee: User;\n    creator: User;\n    issueType: IssueType;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/issue.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { IonicStorageModule } from '@ionic/storage';\n\nimport { LeafletModule } from '@asymmetrik/ngx-leaflet';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { NativeGeocoder } from '@ionic-native/native-geocoder';\nimport { Camera } from '@ionic-native/camera';\nimport { FormsModule } from '@angular/forms';\nimport { LaunchNavigator } from '@ionic-native/launch-navigator';\nimport {IonTagsInputModule} from \"ionic-tags-input\";\n\nimport { MyApp } from './app.component';\nimport { AuthProvider } from '../providers/auth/auth';\nimport { AuthInterceptorProvider } from '../providers/auth-interceptor/auth-interceptor';\nimport { UserProvider } from '../providers/user/user';\nimport { IssueProvider } from '../providers/issue/issue';\n\nimport { HomePage } from '../pages/home/home';\nimport { CreateIssuePage } from '../pages/create-issue/create-issue';\nimport { IssueListPage } from '../pages/issue-list/issue-list';\nimport { IssueMapPage } from '../pages/issue-map/issue-map';\nimport { LoginPage } from '../pages/login/login';\nimport { DetailsPage } from './../pages/details/details';\nimport { ProfilePage } from '../pages/profile/profile';\nimport { PictureProvider } from '../providers/picture/picture';\nimport { IssueComments } from '../pages/issue-comments/issue-comments';\nimport { RegisterPage } from '../pages/register/register';\nimport { TutoPage } from '../pages/tuto/tuto';\nimport { IssueCommentForm } from '../pages/issue-comment-form/issue-comment-form';\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    CreateIssuePage,\n    IssueListPage,\n    IssueMapPage,\n    LoginPage,\n    DetailsPage,\n    ProfilePage,\n    IssueComments,\n    RegisterPage,\n    TutoPage,\n    IssueCommentForm\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    HttpClientModule,\n    IonicStorageModule.forRoot(),\n    LeafletModule.forRoot(),\n    FormsModule,\n    IonTagsInputModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    CreateIssuePage,\n    IssueListPage,\n    IssueMapPage,\n    LoginPage,\n    DetailsPage,\n    ProfilePage,\n    IssueComments,\n    RegisterPage,\n    TutoPage,\n    IssueCommentForm\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    AuthProvider,\n\n    { provide: HTTP_INTERCEPTORS, useClass: AuthInterceptorProvider, multi: true },\n    UserProvider,\n    IssueProvider,\n    Geolocation,\n    NativeGeocoder,\n    Camera,\n    LaunchNavigator,\n    PictureProvider,\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { Observable, ReplaySubject } from 'rxjs/Rx';\nimport { delayWhen, map } from 'rxjs/operators';\n\nimport { AuthRequest } from '../../models/auth-request';\nimport { AuthResponse } from '../../models/auth-response';\nimport { User } from '../../models/user';\nimport { config } from '../../app/config';\n\n/**\n * Authentication service for login/logout.\n */\n@Injectable()\nexport class AuthProvider {\n\n  private auth$: Observable<AuthResponse>;\n  private authSource: ReplaySubject<AuthResponse>;\n\n  constructor(private http: HttpClient, private storage: Storage) {\n\n    this.authSource = new ReplaySubject(1);\n    this.auth$ = this.authSource.asObservable();\n\n    this.storage.get('auth').then(auth => {\n      this.authSource.next(auth);\n    });\n  }\n\n  isAuthenticated(): Observable<boolean> {\n    return this.auth$.pipe(map(auth => !!auth));\n  }\n\n  getUser(): Observable<User> {\n    return this.auth$.pipe(map(auth => auth ? auth.user : undefined));\n  }\n\n  getToken(): Observable<string> {\n    return this.auth$.pipe(map(auth => auth ? auth.token : undefined));\n  }\n\n  logIn(authRequest: AuthRequest): Observable<User> {\n\n    const authUrl = `${config.apiUrl}/auth`;\n    return this.http.post<AuthResponse>(authUrl, authRequest).pipe(\n      delayWhen(auth => {\n        return this.saveAuth(auth);\n      }),\n      map(auth => {\n        this.authSource.next(auth);\n        console.log(`User ${auth.user.name} logged in`);\n        return auth.user;\n      })\n    );\n  }\n\n  logOut() {\n    this.authSource.next(null);\n    this.storage.remove('auth');\n    console.log('User logged out');\n  }\n\n  private saveAuth(auth: AuthResponse): Observable<void> {\n    return Observable.fromPromise(this.storage.set('auth', auth));\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth/auth.ts","import { HttpClient, HttpParams } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { NativeGeocoder, NativeGeocoderReverseResult } from '@ionic-native/native-geocoder';\nimport { LaunchNavigator, LaunchNavigatorOptions } from '@ionic-native/launch-navigator';\n\nimport { config } from '../../app/config';\nimport { Issue } from '../../models/issue';\nimport { map } from 'rxjs/operators';\nimport { NewIssue } from '../../models/new-issue';\nimport { IssueType } from '../../models/issue-type';\nimport { IssueComment } from '../../models/issue-comment';\nimport { IssueAction } from '../../models/issue-action';\n\n/*\n  Generated class for the IssueProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class IssueProvider {\n\n  constructor(\n    private http: HttpClient, \n    private geocoder: NativeGeocoder\n  ) {}\n\n  // Get issue list\n  getIssues(include?:string[], search?: string, sort?: [string], page?: number, pageSize?: number, image?: boolean): Observable<Issue[]> {\n\n    const issuesUrl = `${config.apiUrl}/issues`;\n\n    //Create new HttpParams\n    let params = new HttpParams();\n    params = search ? params.append('search', search) : params;\n    if (include) {\n      include.forEach((item) => {\n        params = params.append('include', item);\n      });\n    }\n    if (sort) {\n      sort.forEach((item) => {\n        params = params.append('sort', item);\n      });\n    }\n    params = page ? params.append('page', page.toString()) : params;\n    params = pageSize ? params.append('pageSize', pageSize.toString()) : params;\n    params = image ? params.append('image', image.toString()) : params;\n\n    const httpOptions = {\n      params: params,\n    };\n    \n    return this.http.get<Issue[]>(issuesUrl, httpOptions).pipe(\n      map(issues => {\n        console.log(issues);\n        return issues;\n      })\n    );\n  }\n\n  getIssueById(id: string, include?:string[]): Observable<Issue> {\n    const issueUrl = `${config.apiUrl}/issues/${id}`;\n\n    //Create new HttpParams\n    let params = new HttpParams();\n    if (include) {\n      include.forEach((item) => {\n        params = params.append('include', item);\n      });\n    }\n\n    const httpOptions = {\n      params: params,\n    };\n    \n    return this.http.get<Issue>(issueUrl, httpOptions).pipe(\n      map(issue => {\n        console.log(issue);\n        return issue;\n      })\n    );\n  }\n\n  loadIssueState(issue: Issue): any {\n    let state;\n    switch (issue.state) {\n      case 'new':\n        state = {\n          name: 'Nouveau',\n          icon: 'star'\n        };\n        break;\n      case 'inProgress':\n        state = {\n          name: 'En cours',\n          icon: 'build'\n        };\n        break;\n      case 'rejected':\n        state = {\n          name: 'Rejeté',\n          icon: 'trash'\n        };\n        break;\n      case 'resolved':\n        state = {\n          name: 'Résolu',\n          icon: 'checkmark-circle-outline'\n        };\n        break;\n    }\n    return state;\n  }\n\n  reverseGeocode(latitude: number, longitude: number): Promise<string> {\n    return this.geocoder.reverseGeocode(latitude, longitude)\n      .then((result: NativeGeocoderReverseResult) => {\n        if(!result[0].postalCode || !result[0].locality) {\n          throw \"Address unknown\";\n        }\n        let address = result[0].thoroughfare && result[0].subThoroughfare ? `${result[0].thoroughfare} ${result[0].subThoroughfare}, ` : '';\n        address += `${result[0].postalCode} ${result[0].locality}`;\n        return address;\n      })\n      .catch((error: any) => {\n        console.log(error);\n        return Promise.reject(\"Error geocoding\");\n      });\n  }\n\n  startExternalMap(latitude: number, longitude: number) {\n    const launchNavigator = new LaunchNavigator();\n    const options: LaunchNavigatorOptions = {\n      destinationName: name,\n      transportMode: \"driving\",\n    };    \n\n    launchNavigator.navigate([latitude, longitude], options).then(\n      success => console.log('Launched navigator'),\n      error => console.log('Error launching navigator', error)\n    );\n\n  }\n\n  getIssueTypes(page?: number, pageSize?: number): Observable<IssueType[]> {\n    const issueTypesUrl = `${config.apiUrl}/issueTypes`;\n\n    //Create new HttpParams\n    let params = new HttpParams();\n    params = page ? params.append('page', page.toString()) : params;\n    params = pageSize ? params.append('pageSize', pageSize.toString()) : params;\n    \n    const httpOptions = {\n      params: params,\n    };\n\n    return this.http.get<IssueType[]>(issueTypesUrl, httpOptions).pipe(\n      map(issueTypes => {\n        console.log(issueTypes);\n        return issueTypes;\n      })\n    );\n  }\n\n  createIssue(newIssue: NewIssue): Observable<Issue> {\n    const newIssueUrl = `${config.apiUrl}/issues`;\n\n    return this.http.post<Issue>(newIssueUrl, newIssue).pipe(\n      map(issue => {\n        console.log(issue);\n        return issue;\n      })\n    );\n  }\n\n  getIssueCommentsById(id: string): Observable<IssueComment[]> {\n    const issueCommentsUrl = `${config.apiUrl}/issues/${id}/comments?include=author`;\n\n    return this.http.get<IssueComment[]>(issueCommentsUrl).pipe(\n      map(issueComments => {\n        console.log(issueComments);\n        return issueComments;\n      })\n    );\n  }\n\n  createIssueComment(issueId: string, newComment: IssueComment): Observable<IssueComment> {\n    const newIssueCommentUrl = `${config.apiUrl}/issues/${issueId}/comments`;\n\n    return this.http.post<IssueComment>(newIssueCommentUrl, newComment).pipe(\n      map(comment => {\n        console.log(comment);\n        return comment;\n      })\n    );\n  }\n\n  addIssueAction(issueId: string, issueAction: IssueAction): Observable<any> {\n    const editIssueUrl = `${config.apiUrl}/issues/${issueId}/actions`;\n    \n    return this.http.post<any>(editIssueUrl, issueAction).pipe(\n      map(issue => {\n        console.log(issue);\n        return issue;\n      })\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/issue/issue.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\nimport { LoginPage } from '../pages/login/login';\nimport { AuthProvider } from '../providers/auth/auth';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage: any;\n\n  constructor(private auth: AuthProvider, platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n\n    // Direct the user to the correct page depending on whether he or she is logged in.\n    this.auth.isAuthenticated().subscribe(authenticated => {\n      if (authenticated) {\n        this.rootPage = HomePage;\n      } else {\n        this.rootPage = LoginPage;\n      }\n    });\n\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export class IssueAction {\n    createdAt: Date;\n    id: string;\n    href: string;\n    issueHref: string;\n    reason: string;\n    type: string;\n    userHref: string;\n  }\n\n\n// WEBPACK FOOTER //\n// ./src/models/issue-action.ts","export class AuthRequest {\n  name: string;\n  password: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/auth-request.ts","export class NewUser {\n    name: string;\n    password: string;\n    firstname: string;\n    lastname: string;\n    phone: string;\n    roles: string[];\n  }\n  \n\n\n// WEBPACK FOOTER //\n// ./src/models/new-user.ts","import { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\nimport { Injectable, Injector } from '@angular/core';\nimport { Observable } from 'rxjs/Rx';\nimport { first, switchMap } from 'rxjs/operators';\n\nimport { AuthProvider } from '../auth/auth';\n\n@Injectable()\nexport class AuthInterceptorProvider implements HttpInterceptor {\n\n  constructor(private injector: Injector) {}\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n\n    // Retrieve AuthProvider at runtime from the injector.\n    // (Otherwise there would be a circular dependency:\n    //  AuthInterceptorProvider -> AuthProvider -> HttpClient -> AuthInterceptorProvider).\n    const auth = this.injector.get(AuthProvider);\n\n    // Get the bearer token (if any).\n    return auth.getToken().pipe(\n      first(),\n      switchMap(token => {\n\n        // Add it to the request if it doesn't already have an Authorization header.\n        if (token && !req.headers.has('Authorization')) {\n          req = req.clone({\n            headers: req.headers.set('Authorization', `Bearer ${token}`)\n          });\n        }\n\n        return next.handle(req);\n      })\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth-interceptor/auth-interceptor.ts","import { Component, Input, ViewChild } from '@angular/core';\nimport { NavController, NavParams, Events } from 'ionic-angular';\n\nimport { Issue } from '../../models/issue';\nimport { IssueProvider } from '../../providers/issue/issue';\nimport { IssueComment } from '../../models/issue-comment';\n\n/**\n * Generated class for the IssueComments page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'issue-comments',\n  templateUrl: 'issue-comments.html',\n})\nexport class IssueComments {\n\n  @Input()\n  issue: Issue;\n  comments: IssueComment[];\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private issueService: IssueProvider,\n    public events: Events\n  ) {\n    events.subscribe('comment:created', () => {\n      this.loadIssueComments();\n    });\n  }\n\n  ngOnInit() {\n    console.log('ngOnInit IssueComments');\n    this.loadIssueComments();\n  }\n\n  private loadIssueComments() {\n    this.issueService.getIssueCommentsById(this.issue.id).subscribe(issueComments => {\n      this.comments = issueComments.reverse();\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/issue-comments/issue-comments.ts","import { Component, Input, ViewChild } from '@angular/core';\nimport { NavController, NavParams, Events } from 'ionic-angular';\nimport { NgForm } from '@angular/forms';\n\nimport { Issue } from '../../models/issue';\nimport { IssueComment } from '../../models/issue-comment';\nimport { IssueProvider } from '../../providers/issue/issue';\n\n/**\n * Generated class for the IssueCommentFormPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'issue-comment-form',\n  templateUrl: 'issue-comment-form.html',\n})\nexport class IssueCommentForm {\n\n  @ViewChild(NgForm)\n  commentForm: NgForm;\n\n  @Input()\n  issue: Issue;\n\n  newComment: IssueComment;\n  subscribeError: boolean;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private issueService: IssueProvider,\n    public events: Events\n  ) {\n    this.newComment = new IssueComment();\n    this.subscribeError = false;\n  }\n\n  ngOnInit() {\n    console.log('ngOnInit IssueCommentForm');\n  }\n\n  onCommentSubmit($event) {\n    // Prevent default HTML form behavior.\n    $event.preventDefault();\n\n    // Do not do anything if the form is invalid.\n    if (this.commentForm.invalid) {\n      return;\n    }\n\n    this.subscribeError = false;\n\n    console.log(this.newComment);\n\n    this.issueService.createIssueComment(this.issue.id, this.newComment).subscribe(newComment => {\n      console.log(newComment);\n      this.events.publish('comment:created');\n      this.commentForm.reset();\n    }, err => {\n      console.warn(`Could not create the comment: ${err.message}`);\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/issue-comment-form/issue-comment-form.ts","export class IssueComment {\n    authorHref: string;\n    createdAt: Date;\n    id: string;\n    text: string;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/issue-comment.ts","// Copy this file to config.ts and fill in appropriate values.\nexport const config = {\n  apiUrl: 'https://comem-appmob-2018g.herokuapp.com/api',\n  qimgUrl: 'https://comem-qimg.herokuapp.com/api',\n  qimgSecret: 'Gu1qbLccQloYrD6/OnQCRyqtWP7tB3m9zS3nHzrPbhIKKJQXk4l7kXVTxcYBqoXMVhBmNVW7FdYXsrxfr//H3NGjYug/0FMtqIW1Ng+nTL1g55sUHqWBRWPAOyuwo3mDIb47nKh5QY2ZTXnmPo4qZoPnKLOOY01aUaDNL/GxmsA='\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/config.ts"],"sourceRoot":""}