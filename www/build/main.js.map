{"version":3,"sources":["../../src/pages/home/home.ts","../../src/pages/profile/profile.ts","../../src/pages/details/details.ts","../../src/pages/login/login.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/issue-list/issue-list.ts","../../src/pages/issue-map/issue-map.ts","../../src/pages/create-issue/create-issue.ts","../../src/providers/picture/picture.ts","../../src/pages/tuto/tuto.ts","../../src/pages/register/register.ts","../../src/providers/user/user.ts","../../src/models/issue.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/providers/issue/issue.ts","../../src/app/app.component.ts","../../src/providers/auth/auth.ts","../../src/models/issue-action.ts","../../src/models/auth-request.ts","../../src/models/new-user.ts","../../src/providers/auth-interceptor/auth-interceptor.ts","../../src/pages/issue-comments/issue-comments.ts","../../src/pages/issue-comment-form/issue-comment-form.ts","../../src/models/issue-comment.ts","../../src/app/config.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { Storage } from '@ionic/storage';\r\n\r\nimport { AuthProvider } from '../../providers/auth/auth';\r\nimport { ProfilePage } from '../profile/profile';\r\nimport { IssueListPage } from '../issue-list/issue-list';\r\nimport { IssueMapPage } from '../issue-map/issue-map';\r\nimport { User } from '../../models/user';\r\nimport { TutoPage } from '../tuto/tuto';\r\n\r\n\r\nexport interface HomePageTab {\r\n  title: string;\r\n  icon: string;\r\n  component: Function;\r\n}\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\nexport class HomePage {\r\n\r\n  rootPage: any;\r\n  pages: Array<{title: string, component: any, user?: User}>;\r\n  profile: User;\r\n\r\n  constructor(\r\n    private auth: AuthProvider,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public storage: Storage\r\n  ) {\r\n    // If the tuto is not yet done, redirect the user to the tuto page\r\n    this.storage.get('tuto-done').then(done => {\r\n      if (!done) {\r\n        this.navCtrl.setRoot(TutoPage);\r\n      }\r\n    });\r\n\r\n    // set the root page\r\n    this.rootPage = IssueMapPage;\r\n\r\n    this.auth.getUser().subscribe((user) => {\r\n      this.profile = user;\r\n\r\n      // set our app's pages\r\n      this.pages = [\r\n        { title: 'Mon profile', component: ProfilePage, user: this.profile },\r\n        { title: 'Problèmes reportés', component: IssueListPage, user: this.profile },\r\n        { title: 'Liste des problèmes', component: IssueListPage }\r\n      ];\r\n    });\r\n  }\r\n\r\n  logOut() {\r\n    this.auth.logOut();\r\n  }\r\n\r\n  openPage(page: any) {\r\n    this.navCtrl.push(page.component, {\r\n      user: page.user,\r\n      title: page.title\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\n\nimport { User } from '../../models/user';\n\n/**\n * Generated class for the ProfilePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage {\n\n  profile: User;\n  role: {\n    name: string,\n    icon: string\n  };\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams\n  ) {}\n\n  ionViewDidLoad() {  \n    this.profile = this.navParams.data.user;\n  }\n\n  loadUserRole(user: User) {\n    if(user.roles.indexOf('manager')) {\n      this.role = {\n        name: 'Gestionnaire',\n        icon: 'build'\n      };\n    } else {\n      this.role = {\n        name: 'Citoyen',\n        icon: 'person'\n      };\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, FabContainer } from 'ionic-angular';\r\n\r\nimport { Issue } from '../../models/issue';\r\nimport { IssueProvider } from '../../providers/issue/issue';\r\nimport { User } from '../../models/user';\r\nimport { ProfilePage } from '../profile/profile';\r\nimport { AuthProvider } from '../../providers/auth/auth';\r\nimport { IssueAction } from '../../models/issue-action';\r\n\r\n/**\r\n * Generated class for the DetailsPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@Component({\r\n  selector: 'page-details',\r\n  templateUrl: 'details.html',\r\n})\r\nexport class DetailsPage {\r\n\r\n  profile: User;\r\n  issue: Issue;\r\n  issueAddress: string;\r\n  loadState;\r\n  startMap;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private issueService: IssueProvider,\r\n    private auth: AuthProvider,\r\n  ) {\r\n    this.loadState = issueService.loadIssueState;\r\n    this.startMap = issueService.startExternalMap;\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.loadIssueDetails(this.navParams.data.id);\r\n\r\n    this.auth.getUser().subscribe((user) => {\r\n      this.profile = user;\r\n    });\r\n  }\r\n\r\n  private loadIssueDetails(id: string) {\r\n    this.issueService.getIssueById(id, ['actions', 'assignee', 'creator', 'issueType']).subscribe(issue => {\r\n      this.issue = issue;\r\n      this.issueService.reverseGeocode(issue.location.coordinates[1], issue.location.coordinates[0]).then((issueAddress) => {\r\n        this.issueAddress = issueAddress;\r\n      }).catch((error) => {\r\n        this.issueAddress = 'Adresse inconnue';\r\n      });\r\n    });\r\n  }\r\n\r\n  goToUser(user: User) {\r\n    this.navCtrl.push(ProfilePage, {\r\n      user: user\r\n    });\r\n  }\r\n\r\n  changeStatus(newStatus: string, fab: FabContainer) {\r\n    fab.close();\r\n    let issueAction = new IssueAction();\r\n    issueAction.reason = `ìssue ${newStatus}`;\r\n    issueAction.type = newStatus;\r\n    this.issueService.addIssueAction(this.issue.id, issueAction).subscribe(issue => {\r\n      switch (issue.type) {\r\n        case 'start':\r\n          this.issue.state = 'inProgress';\r\n          break;\r\n        case 'reject':\r\n          this.issue.state = 'rejected';\r\n          break;\r\n        case 'resolve':\r\n          this.issue.state = 'resolved';\r\n          break;\r\n      }\r\n    }, (err) => {\r\n      console.warn(\"Couldn't change the issue status\", err);\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/details/details.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\nimport { AuthRequest } from '../../models/auth-request';\r\nimport { AuthProvider } from '../../providers/auth/auth';\r\nimport { RegisterPage } from '../register/register';\r\n\r\n\r\n/**\r\n * Login page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n@Component({\r\n  templateUrl: 'login.html'\r\n})\r\nexport class LoginPage {\r\n\r\n  /**\r\n   * This authentication request object will be updated when the user\r\n   * edits the login form. It will then be sent to the API.\r\n   */\r\n  authRequest: AuthRequest;\r\n\r\n  /**\r\n   * If true, it means that the authentication API has return a failed response\r\n   * (probably because the name or password is incorrect).\r\n   */\r\n  loginError: boolean;\r\n\r\n  /**\r\n   * The login form.\r\n   */\r\n  @ViewChild(NgForm)\r\n  form: NgForm;\r\n\r\n  constructor(private auth: AuthProvider, public navCtrl: NavController, public navParams: NavParams) {\r\n    this.authRequest = new AuthRequest();\r\n  }\r\n\r\n  /**\r\n   * Called when the login form is submitted.\r\n   */\r\n  onSubmit($event) {\r\n\r\n    // Prevent default HTML form behavior.\r\n    $event.preventDefault();\r\n\r\n    // Do not do anything if the form is invalid.\r\n    if (this.form.invalid) {\r\n      return;\r\n    }\r\n\r\n    // Hide any previous login error.\r\n    this.loginError = false;\r\n\r\n    // Perform the authentication request to the API.\r\n    this.auth.logIn(this.authRequest).subscribe(undefined, err => {\r\n      this.loginError = true;\r\n      console.warn(`Authentication failed: ${err.message}`);\r\n    });\r\n  }\r\n\r\n  goToRegister() {\r\n    this.navCtrl.push(RegisterPage);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 176;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 176\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 222;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 222\n// module chunks = 0","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\nimport { IssueProvider } from '../../providers/issue/issue';\r\nimport { Issue } from '../../models/issue';\r\nimport { DetailsPage } from '../details/details';\r\nimport { User } from '../../models/user';\r\n\r\n/**\r\n * Generated class for the IssueListPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@Component({\r\n  selector: 'page-issue-list',\r\n  templateUrl: 'issue-list.html',\r\n})\r\nexport class IssueListPage {\r\n\r\n\r\n  page: number;\r\n  totalPage: number;\r\n  issues: Issue[];\r\n  filteredIssues: Issue[];\r\n  loadState;\r\n  pageTitle: string;\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams, \r\n    private issueService: IssueProvider\r\n  ) {\r\n    this.loadState = issueService.loadIssueState;\r\n    this.page = 1;\r\n    this.totalPage = 2;\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.loadIssues();\r\n    this.pageTitle = this.navParams.data.title ? this.navParams.data.title : 'Liste des problèmes';\r\n  }\r\n\r\n  onInput(event: any) {\r\n    // set val to the value of the searchbar\r\n    let searchedValue = event.target.value;\r\n\r\n    // if the value is an empty string don't fetch the issues\r\n    if (searchedValue && searchedValue.trim() != '') {\r\n      this.filterIssueList(searchedValue);\r\n    } else {\r\n      this.filteredIssues = this.issues;\r\n    }\r\n  }\r\n\r\n  onCancel() {\r\n    this.filteredIssues = this.issues;\r\n  }\r\n\r\n  private loadIssues(search?: string) {\r\n    let searchedValue = search ? search : undefined;\r\n    this.issueService.getIssues(['creator'], searchedValue, ['-createdAt']).subscribe(issues => {\r\n      if(this.navParams.data.user) {\r\n        this.issues = this.filterByCreator(this.navParams.data.user, issues);\r\n      } else {\r\n        this.issues = issues;\r\n      }\r\n      this.filteredIssues = this.issues;\r\n    });\r\n  }\r\n\r\n  private filterIssueList(input: string) {\r\n    this.filteredIssues = this.issues.filter((issue) => issue.description.toLowerCase().indexOf(input.toLowerCase())!==-1);\r\n  }\r\n\r\n  private filterByCreator(creator: User, issues: Issue[]): Issue[] {\r\n    return issues.filter((issue) => issue.creator.name == creator.name);\r\n  }\r\n\r\n  goToDetails(id: string) {\r\n    this.navCtrl.push(DetailsPage, {\r\n      id: id\r\n    });\r\n  }\r\n\r\n  doInfinite(infiniteScroll) {\r\n    this.page = this.page+1;\r\n    this.issueService.getIssues(['creator'], undefined, ['-createdAt'], this.page).subscribe((newIssues) =>  {\r\n      if(newIssues.length==20) this.totalPage++;\r\n      if(this.navParams.data.user) {\r\n        this.issues = this.issues.concat(this.filterByCreator(this.navParams.data.user, newIssues));\r\n      } else {\r\n        this.issues = this.issues.concat(newIssues);\r\n      }\r\n      this.filteredIssues = this.issues;\r\n      infiniteScroll.complete();\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/issue-list/issue-list.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { latLng, MapOptions, marker, Marker, Map, tileLayer } from 'leaflet';\r\n\r\nimport { CreateIssuePage } from '../create-issue/create-issue';\r\nimport { IssueProvider } from '../../providers/issue/issue';\r\nimport { Issue } from '../../models/issue';\r\n\r\n\r\n/**\r\n * Generated class for the IssueMapPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@Component({\r\n  selector: 'page-issue-map',\r\n  templateUrl: 'issue-map.html',\r\n})\r\nexport class IssueMapPage {\r\n\r\n  issues: Issue[];\r\n  mapOptions: MapOptions;\r\n  mapMarkers: Marker[];\r\n  userMarker: Marker;\r\n  map: Map;\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams, \r\n    private issueService: IssueProvider,\r\n    private geolocation: Geolocation,\r\n  ) {\r\n    this.mapMarkers = [];\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.loadIssues();\r\n    this.geolocation.getCurrentPosition().then(position => {\r\n      console.log(`User is at ${position.coords.latitude}, ${position.coords.longitude}`);\r\n      const tileLayerUrl = 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\r\n      const tileLayerOptions = { maxZoom: 18 };\r\n      this.mapOptions = {\r\n        layers: [\r\n          tileLayer(tileLayerUrl, tileLayerOptions)\r\n        ],\r\n        zoom: 13,\r\n        center: latLng(position.coords.latitude, position.coords.longitude)\r\n      };\r\n    }).catch(err => {\r\n      console.warn(`Could not retrieve user position because: ${err.message}`);\r\n    });\r\n  }\r\n\r\n  private loadIssues(search?: string) {\r\n    let searchedValue = search ? search : undefined;\r\n    this.issueService.getIssues(['creator'], searchedValue, ['createdAt']).subscribe(issues => {\r\n      this.issues = issues;\r\n      issues.forEach((issue) => {\r\n        this.mapMarkers.push(marker([issue.location.coordinates[1], issue.location.coordinates[0]]).bindTooltip(issue.description));\r\n      });\r\n    });\r\n  }\r\n\r\n  openCreateIssuePage(){\r\n    this.navCtrl.push(CreateIssuePage);\r\n  }\r\n\r\n  onMapReady(map: Map){\r\n    this.map = map;\r\n  }\r\n  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/issue-map/issue-map.ts","import { Component } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\n\r\nimport { NewIssue } from '../../models/new-issue';\r\nimport { IssueProvider } from '../../providers/issue/issue';\r\nimport { IssueType } from '../../models/issue-type';\r\nimport { PictureProvider } from '../../providers/picture/picture';\r\nimport { DetailsPage } from '../details/details';\r\n\r\n/**\r\n * Generated class for the CreateIssuePage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@Component({\r\n  selector: 'page-create-issue',\r\n  templateUrl: 'create-issue.html',\r\n})\r\nexport class CreateIssuePage {\r\n\r\n  myAddress: string;\r\n  newIssue: NewIssue;\r\n  issueTypes: IssueType[];\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private geolocation: Geolocation,\r\n    private issueService: IssueProvider,\r\n    private pictureService: PictureProvider\r\n  ) {\r\n    this.newIssue = {\r\n      location: {\r\n        coordinates: [0, 0],\r\n        type: \"Point\"\r\n      },\r\n      description: '',\r\n      tags: [],\r\n      imageUrl: '',\r\n      issueTypeHref: ''\r\n    };\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.issueService.getIssueTypes().subscribe(issueTypes => {\r\n      this.issueTypes = issueTypes;\r\n    });\r\n\r\n    const geolocationPromise = this.geolocation.getCurrentPosition();\r\n    geolocationPromise.then(position => {\r\n      this.newIssue.location.coordinates[1] = position.coords.latitude;\r\n      this.newIssue.location.coordinates[0] = position.coords.longitude;\r\n      console.log(`User is at ${this.newIssue.location.coordinates[1]}, ${this.newIssue.location.coordinates[0]}`);\r\n      this.issueService.reverseGeocode(this.newIssue.location.coordinates[1], this.newIssue.location.coordinates[0]).then((myAddress) => {\r\n        this.myAddress = myAddress;\r\n      }).catch((error) => {\r\n        this.myAddress = 'Adresse inconnue';\r\n      });\r\n    }).catch(err => {\r\n      console.warn(`Could not retrieve user position because: ${err.message}`);\r\n    });\r\n  }\r\n\r\n  takePicture() {\r\n    this.pictureService.takeAndUploadPicture().subscribe(picture => {\r\n      this.newIssue.imageUrl = picture.url;\r\n    }, err => {\r\n      console.warn('Could not take picture', err);\r\n    });\r\n  }\r\n\r\n  createIssue(form: NgForm) {\r\n    if (form.valid) {\r\n      this.issueService.createIssue(this.newIssue).subscribe(newIssue => {\r\n        this.navCtrl.push(DetailsPage, {\r\n          id: newIssue.id\r\n        });\r\n      }, err => {\r\n        console.warn('Could not create the new issue', err);\r\n      });\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/create-issue/create-issue.ts","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { Observable } from 'rxjs/Observable';\nimport { switchMap, tap } from 'rxjs/operators';\n\nimport { config } from '../../app/config';\nimport { QimgImage } from '../../models/qimg-image';\n\n/**\n * Service to take pictures and upload them to the qimg API.\n */\n@Injectable()\nexport class PictureProvider {\n\n  constructor(\n    private camera: Camera, \n    private http: HttpClient\n  ) {}\n\n  /**\n   * Takes a picture, uploads it to the qimg API, and returns the created image.\n   *\n   * Returns an observable that will emit the created QimgObject if the picture\n   * has been taken and successfully uploaded to the qimg API. An error may be\n   * emitted instead if the user does not take a picture of if the upload fails.\n   */\n  takeAndUploadPicture(): Observable < QimgImage > {\n\n    // Take a picture.\n    // This creates an observable of picture data.\n    const pictureData$ = this.takePicture();\n\n    // Once the picture has been taken, upload it to the qimg API.\n    // This returns a new observable of the resulting QimgImage object.\n    const uploadedImage$ = pictureData$.pipe(switchMap(data => this.uploadPicture(data)))\n\n    // Once the picture has been uploaded, log a message to the console\n    // indicating that all went well.\n    // This does not change the observable stream.\n    const debug$ = uploadedImage$.pipe(tap(image => console.log(`Successfully uploaded picture to ${image.url}`)));\n\n    // Return the observable stream.\n    return debug$;\n  }\n\n  /**\n   * Launches the camera to take a picture.\n   *\n   * Returns an observable that will emit the raw picture data as a string\n   * once the picture has been taken. An error may be emitted instead if the\n   * user does not take a picture.\n   */\n  private takePicture(): Observable < string > {\n\n    // Prepare camera options.\n    const options: CameraOptions = {\n      quality: 50,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE\n    };\n\n    // Start taking a picture.\n    // The promise will be resolved when the user has snapped and validated the picture.\n    // It may be rejected if the user does not take a picture.\n    const pictureDataPromise = this.camera.getPicture(options);\n\n    // Convert the promise to an observable and return it.\n    return Observable.fromPromise(pictureDataPromise);\n  }\n\n  /**\n   * Uploads raw picture data to the qimg API.\n   *\n   * Returns an observable that will emit the created QimgImage object.\n   * An error may be emitted instead if the upload fails.\n   */\n  private uploadPicture(pictureData: string): Observable < QimgImage > {\n\n    const requestBody = {\n      data: pictureData\n    };\n\n    const requestOptions = {\n      headers: {\n        Authorization: `Bearer ${config.qimgSecret}`\n      }\n    };\n\n    return this.http.post < QimgImage > (`${config.qimgUrl}/images`, requestBody, requestOptions);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/picture/picture.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\n\nimport { HomePage } from '../home/home';\n\n/**\n * Generated class for the TutoPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-tuto',\n  templateUrl: 'tuto.html',\n})\nexport class TutoPage {\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public storage: Storage\n  ) {}\n\n  navHome() {\n    this.storage.set('tuto-done', true);\n    this.navCtrl.setRoot(HomePage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tuto/tuto.ts","import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { NgForm } from '@angular/forms';\n\nimport { NewUser } from '../../models/new-user';\nimport { UserProvider } from '../../providers/user/user';\nimport { LoginPage } from '../login/login';\n\n/**\n * Generated class for the RegisterPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-register',\n  templateUrl: 'register.html',\n})\nexport class RegisterPage {\n\n  subscribeError: boolean;\n  newUser: NewUser;\n\n  /**\n   * The register form.\n   */\n  @ViewChild(NgForm)\n  registerForm: NgForm;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private userService: UserProvider\n  ) {\n    this.newUser = new NewUser();\n    this.subscribeError = false;\n  }\n\n  /**\n   * Called when the register form is submitted.\n   */\n  onSubmit($event) {\n\n    // Prevent default HTML form behavior.\n    $event.preventDefault();\n\n    // Do not do anything if the form is invalid.\n    if (this.registerForm.invalid) {\n      return;\n    }\n\n    this.subscribeError = false;\n\n    this.newUser.roles = ['citizen'];\n\n    // Create a new user.\n    this.userService.createUser(this.newUser).subscribe(user => {\n      this.navCtrl.push(LoginPage, {\n        info: \"L'utilisateur à été créé avec succès\"\n      });\n    }, err => {\n      this.subscribeError = true;\n      console.warn(`Could not create the user: ${err.message}`);\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { User } from '../../models/user';\r\nimport { config } from '../../app/config';\r\nimport { NewUser } from '../../models/new-user';\r\n\r\n/*\r\n  Generated class for the UserProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\n@Injectable()\r\nexport class UserProvider {\r\n\r\n  constructor(public http: HttpClient) {\r\n    console.log('Hello UserProvider Provider');\r\n  }\r\n\r\n  getUserById(id: string): Observable<User> {\r\n\r\n    const userUrl = `${config.apiUrl}/users/${id}`;\r\n    \r\n    return this.http.get<User>(userUrl).pipe(\r\n      map(user => {\r\n        console.log(user);\r\n        return user;\r\n      })\r\n    );\r\n  }\r\n\r\n  createUser(user: NewUser): Observable<User> {\r\n\r\n    const userUrl = `${config.apiUrl}/users`;\r\n    \r\n    return this.http.post<User>(userUrl, user).pipe(\r\n      map(user => {\r\n        console.log(user);\r\n        return user;\r\n      })\r\n    );\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user/user.ts","import { IssueAction } from \"./issue-action\";\r\nimport { IssueType } from \"./issue-type\";\r\nimport { User } from \"./user\";\r\n\r\nexport class Issue {\r\n    assigneeHref: string;\r\n    createdAt: Date;\r\n    creatorHref: string;\r\n    description: string;\r\n    href: string;\r\n    id: string;\r\n    imageUrl: string;\r\n    additionalImageUrls: [string];\r\n    issueTypeHref: string;\r\n    location: {\r\n        coordinates: [\r\n            number,\r\n            number\r\n        ],\r\n        type: string\r\n    };\r\n    state: string;\r\n    tags: [string];\r\n    updatedAt: Date;\r\n    actions: IssueAction[];\r\n    assignee: User;\r\n    creator: User;\r\n    issueType: IssueType;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/issue.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { ErrorHandler, NgModule } from '@angular/core';\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { LeafletModule } from '@asymmetrik/ngx-leaflet';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { NativeGeocoder } from '@ionic-native/native-geocoder';\r\nimport { Camera } from '@ionic-native/camera';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { LaunchNavigator } from '@ionic-native/launch-navigator';\r\nimport {IonTagsInputModule} from \"ionic-tags-input\";\r\n\r\nimport { MyApp } from './app.component';\r\nimport { AuthProvider } from '../providers/auth/auth';\r\nimport { AuthInterceptorProvider } from '../providers/auth-interceptor/auth-interceptor';\r\nimport { UserProvider } from '../providers/user/user';\r\nimport { IssueProvider } from '../providers/issue/issue';\r\nimport { HomePage } from '../pages/home/home';\r\nimport { CreateIssuePage } from '../pages/create-issue/create-issue';\r\nimport { IssueListPage } from '../pages/issue-list/issue-list';\r\nimport { IssueMapPage } from '../pages/issue-map/issue-map';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { DetailsPage } from './../pages/details/details';\r\nimport { ProfilePage } from '../pages/profile/profile';\r\nimport { PictureProvider } from '../providers/picture/picture';\r\nimport { IssueComments } from '../pages/issue-comments/issue-comments';\r\nimport { RegisterPage } from '../pages/register/register';\r\nimport { TutoPage } from '../pages/tuto/tuto';\r\nimport { IssueCommentForm } from '../pages/issue-comment-form/issue-comment-form';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n    HomePage,\r\n    CreateIssuePage,\r\n    IssueListPage,\r\n    IssueMapPage,\r\n    LoginPage,\r\n    DetailsPage,\r\n    ProfilePage,\r\n    IssueComments,\r\n    RegisterPage,\r\n    TutoPage,\r\n    IssueCommentForm\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    IonicModule.forRoot(MyApp),\r\n    HttpClientModule,\r\n    IonicStorageModule.forRoot(),\r\n    LeafletModule.forRoot(),\r\n    FormsModule,\r\n    IonTagsInputModule\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    HomePage,\r\n    CreateIssuePage,\r\n    IssueListPage,\r\n    IssueMapPage,\r\n    LoginPage,\r\n    DetailsPage,\r\n    ProfilePage,\r\n    IssueComments,\r\n    RegisterPage,\r\n    TutoPage,\r\n    IssueCommentForm\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\r\n    AuthProvider,\r\n    { provide: HTTP_INTERCEPTORS, useClass: AuthInterceptorProvider, multi: true },\r\n    UserProvider,\r\n    IssueProvider,\r\n    Geolocation,\r\n    NativeGeocoder,\r\n    Camera,\r\n    LaunchNavigator,\r\n    PictureProvider,\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { map } from 'rxjs/operators';\r\nimport { NativeGeocoder, NativeGeocoderReverseResult } from '@ionic-native/native-geocoder';\r\nimport { LaunchNavigator, LaunchNavigatorOptions } from '@ionic-native/launch-navigator';\r\n\r\nimport { config } from '../../app/config';\r\nimport { Issue } from '../../models/issue';\r\nimport { NewIssue } from '../../models/new-issue';\r\nimport { IssueType } from '../../models/issue-type';\r\nimport { IssueComment } from '../../models/issue-comment';\r\nimport { IssueAction } from '../../models/issue-action';\r\n\r\n/*\r\n  Generated class for the IssueProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\n@Injectable()\r\nexport class IssueProvider {\r\n\r\n  constructor(\r\n    private http: HttpClient, \r\n    private geocoder: NativeGeocoder\r\n  ) {}\r\n\r\n  // Get issue list\r\n  getIssues(include?:string[], search?: string, sort?: [string], page?: number, pageSize?: number, image?: boolean): Observable<Issue[]> {\r\n\r\n    const issuesUrl = `${config.apiUrl}/issues`;\r\n\r\n    //Create new HttpParams\r\n    let params = new HttpParams();\r\n    params = search ? params.append('search', search) : params;\r\n    if (include) {\r\n      include.forEach((item) => {\r\n        params = params.append('include', item);\r\n      });\r\n    }\r\n    if (sort) {\r\n      sort.forEach((item) => {\r\n        params = params.append('sort', item);\r\n      });\r\n    }\r\n    params = page ? params.append('page', page.toString()) : params;\r\n    params = pageSize ? params.append('pageSize', pageSize.toString()) : params;\r\n    params = image ? params.append('image', image.toString()) : params;\r\n\r\n    const httpOptions = {\r\n      params: params,\r\n    };\r\n    \r\n    return this.http.get<Issue[]>(issuesUrl, httpOptions).pipe(\r\n      map(issues => {\r\n        console.log(issues);\r\n        return issues;\r\n      })\r\n    );\r\n  }\r\n\r\n  getIssueById(id: string, include?:string[]): Observable<Issue> {\r\n    const issueUrl = `${config.apiUrl}/issues/${id}`;\r\n\r\n    //Create new HttpParams\r\n    let params = new HttpParams();\r\n    if (include) {\r\n      include.forEach((item) => {\r\n        params = params.append('include', item);\r\n      });\r\n    }\r\n\r\n    const httpOptions = {\r\n      params: params,\r\n    };\r\n    \r\n    return this.http.get<Issue>(issueUrl, httpOptions).pipe(\r\n      map(issue => {\r\n        console.log(issue);\r\n        return issue;\r\n      })\r\n    );\r\n  }\r\n\r\n  loadIssueState(issue: Issue): any {\r\n    let state;\r\n    switch (issue.state) {\r\n      case 'new':\r\n        state = {\r\n          name: 'Nouveau',\r\n          icon: 'star'\r\n        };\r\n        break;\r\n      case 'inProgress':\r\n        state = {\r\n          name: 'En cours',\r\n          icon: 'build'\r\n        };\r\n        break;\r\n      case 'rejected':\r\n        state = {\r\n          name: 'Rejeté',\r\n          icon: 'trash'\r\n        };\r\n        break;\r\n      case 'resolved':\r\n        state = {\r\n          name: 'Résolu',\r\n          icon: 'checkmark-circle-outline'\r\n        };\r\n        break;\r\n    }\r\n    return state;\r\n  }\r\n\r\n  reverseGeocode(latitude: number, longitude: number): Promise<string> {\r\n    return this.geocoder.reverseGeocode(latitude, longitude)\r\n      .then((result: NativeGeocoderReverseResult) => {\r\n        if(!result[0].postalCode || !result[0].locality) {\r\n          throw \"Address unknown\";\r\n        }\r\n        let address = result[0].thoroughfare && result[0].subThoroughfare ? `${result[0].thoroughfare} ${result[0].subThoroughfare}, ` : '';\r\n        address += `${result[0].postalCode} ${result[0].locality}`;\r\n        return address;\r\n      })\r\n      .catch((error: any) => {\r\n        console.log(error);\r\n        return Promise.reject(\"Error geocoding\");\r\n      });\r\n  }\r\n\r\n  startExternalMap(latitude: number, longitude: number) {\r\n    const launchNavigator = new LaunchNavigator();\r\n    const options: LaunchNavigatorOptions = {\r\n      destinationName: name,\r\n      transportMode: \"driving\",\r\n    };    \r\n\r\n    launchNavigator.navigate([latitude, longitude], options).then(\r\n      success => console.log('Launched navigator'),\r\n      error => console.log('Error launching navigator', error)\r\n    );\r\n\r\n  }\r\n\r\n  getIssueTypes(page?: number, pageSize?: number): Observable<IssueType[]> {\r\n    const issueTypesUrl = `${config.apiUrl}/issueTypes`;\r\n\r\n    //Create new HttpParams\r\n    let params = new HttpParams();\r\n    params = page ? params.append('page', page.toString()) : params;\r\n    params = pageSize ? params.append('pageSize', pageSize.toString()) : params;\r\n    \r\n    const httpOptions = {\r\n      params: params,\r\n    };\r\n\r\n    return this.http.get<IssueType[]>(issueTypesUrl, httpOptions).pipe(\r\n      map(issueTypes => {\r\n        console.log(issueTypes);\r\n        return issueTypes;\r\n      })\r\n    );\r\n  }\r\n\r\n  createIssue(newIssue: NewIssue): Observable<Issue> {\r\n    const newIssueUrl = `${config.apiUrl}/issues`;\r\n\r\n    return this.http.post<Issue>(newIssueUrl, newIssue).pipe(\r\n      map(issue => {\r\n        console.log(issue);\r\n        return issue;\r\n      })\r\n    );\r\n  }\r\n\r\n  getIssueCommentsById(id: string): Observable<IssueComment[]> {\r\n    const issueCommentsUrl = `${config.apiUrl}/issues/${id}/comments?include=author`;\r\n\r\n    return this.http.get<IssueComment[]>(issueCommentsUrl).pipe(\r\n      map(issueComments => {\r\n        console.log(issueComments);\r\n        return issueComments;\r\n      })\r\n    );\r\n  }\r\n\r\n  createIssueComment(issueId: string, newComment: IssueComment): Observable<IssueComment> {\r\n    const newIssueCommentUrl = `${config.apiUrl}/issues/${issueId}/comments`;\r\n\r\n    return this.http.post<IssueComment>(newIssueCommentUrl, newComment).pipe(\r\n      map(comment => {\r\n        console.log(comment);\r\n        return comment;\r\n      })\r\n    );\r\n  }\r\n\r\n  addIssueAction(issueId: string, issueAction: IssueAction): Observable<any> {\r\n    const editIssueUrl = `${config.apiUrl}/issues/${issueId}/actions`;\r\n    \r\n    return this.http.post<any>(editIssueUrl, issueAction).pipe(\r\n      map(issue => {\r\n        console.log(issue);\r\n        return issue;\r\n      })\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/issue/issue.ts","import { Component } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\nimport { HomePage } from '../pages/home/home';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { AuthProvider } from '../providers/auth/auth';\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  rootPage: any;\r\n\r\n  constructor(\r\n    private auth: AuthProvider, \r\n    platform: Platform, \r\n    statusBar: StatusBar, \r\n    splashScreen: SplashScreen\r\n  ) {\r\n\r\n    // Direct the user to the correct page depending on whether he or she is logged in.\r\n    this.auth.isAuthenticated().subscribe(authenticated => {\r\n      if (authenticated) {\r\n        this.rootPage = HomePage;\r\n      } else {\r\n        this.rootPage = LoginPage;\r\n      }\r\n    });\r\n\r\n    platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      statusBar.styleDefault();\r\n      splashScreen.hide();\r\n    });\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Observable, ReplaySubject } from 'rxjs/Rx';\r\nimport { delayWhen, map } from 'rxjs/operators';\r\n\r\nimport { AuthRequest } from '../../models/auth-request';\r\nimport { AuthResponse } from '../../models/auth-response';\r\nimport { User } from '../../models/user';\r\nimport { config } from '../../app/config';\r\n\r\n/**\r\n * Authentication service for login/logout.\r\n */\r\n@Injectable()\r\nexport class AuthProvider {\r\n\r\n  private auth$: Observable<AuthResponse>;\r\n  private authSource: ReplaySubject<AuthResponse>;\r\n\r\n  constructor(private http: HttpClient, private storage: Storage) {\r\n\r\n    this.authSource = new ReplaySubject(1);\r\n    this.auth$ = this.authSource.asObservable();\r\n\r\n    this.storage.get('auth').then(auth => {\r\n      this.authSource.next(auth);\r\n    });\r\n  }\r\n\r\n  isAuthenticated(): Observable<boolean> {\r\n    return this.auth$.pipe(map(auth => !!auth));\r\n  }\r\n\r\n  getUser(): Observable<User> {\r\n    return this.auth$.pipe(map(auth => auth ? auth.user : undefined));\r\n  }\r\n\r\n  getToken(): Observable<string> {\r\n    return this.auth$.pipe(map(auth => auth ? auth.token : undefined));\r\n  }\r\n\r\n  logIn(authRequest: AuthRequest): Observable<User> {\r\n\r\n    const authUrl = `${config.apiUrl}/auth`;\r\n    return this.http.post<AuthResponse>(authUrl, authRequest).pipe(\r\n      delayWhen(auth => {\r\n        return this.saveAuth(auth);\r\n      }),\r\n      map(auth => {\r\n        this.authSource.next(auth);\r\n        console.log(`User ${auth.user.name} logged in`);\r\n        return auth.user;\r\n      })\r\n    );\r\n  }\r\n\r\n  logOut() {\r\n    this.authSource.next(null);\r\n    this.storage.remove('auth');\r\n    console.log('User logged out');\r\n  }\r\n\r\n  private saveAuth(auth: AuthResponse): Observable<void> {\r\n    return Observable.fromPromise(this.storage.set('auth', auth));\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth/auth.ts","export class IssueAction {\r\n    createdAt: Date;\r\n    id: string;\r\n    href: string;\r\n    issueHref: string;\r\n    reason: string;\r\n    type: string;\r\n    userHref: string;\r\n  }\n\n\n// WEBPACK FOOTER //\n// ./src/models/issue-action.ts","export class AuthRequest {\r\n  name: string;\r\n  password: string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/auth-request.ts","export class NewUser {\r\n    name: string;\r\n    password: string;\r\n    firstname: string;\r\n    lastname: string;\r\n    phone: string;\r\n    roles: string[];\r\n  }\r\n  \n\n\n// WEBPACK FOOTER //\n// ./src/models/new-user.ts","import { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Injectable, Injector } from '@angular/core';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { first, switchMap } from 'rxjs/operators';\r\n\r\nimport { AuthProvider } from '../auth/auth';\r\n\r\n@Injectable()\r\nexport class AuthInterceptorProvider implements HttpInterceptor {\r\n\r\n  constructor(private injector: Injector) {}\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n\r\n    // Retrieve AuthProvider at runtime from the injector.\r\n    // (Otherwise there would be a circular dependency:\r\n    //  AuthInterceptorProvider -> AuthProvider -> HttpClient -> AuthInterceptorProvider).\r\n    const auth = this.injector.get(AuthProvider);\r\n\r\n    // Get the bearer token (if any).\r\n    return auth.getToken().pipe(\r\n      first(),\r\n      switchMap(token => {\r\n\r\n        // Add it to the request if it doesn't already have an Authorization header.\r\n        if (token && !req.headers.has('Authorization')) {\r\n          req = req.clone({\r\n            headers: req.headers.set('Authorization', `Bearer ${token}`)\r\n          });\r\n        }\r\n\r\n        return next.handle(req);\r\n      })\r\n    );\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth-interceptor/auth-interceptor.ts","import { Component, Input } from '@angular/core';\nimport { NavController, NavParams, Events } from 'ionic-angular';\n\nimport { Issue } from '../../models/issue';\nimport { IssueProvider } from '../../providers/issue/issue';\nimport { IssueComment } from '../../models/issue-comment';\n\n/**\n * Generated class for the IssueComments page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'issue-comments',\n  templateUrl: 'issue-comments.html',\n})\nexport class IssueComments {\n\n  @Input()\n  issue: Issue;\n  comments: IssueComment[];\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private issueService: IssueProvider,\n    public events: Events\n  ) {\n    events.subscribe('comment:created', () => {\n      this.loadIssueComments();\n    });\n  }\n\n  ngOnInit() {\n    this.loadIssueComments();\n  }\n\n  private loadIssueComments() {\n    this.issueService.getIssueCommentsById(this.issue.id).subscribe(issueComments => {\n      this.comments = issueComments.reverse();\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/issue-comments/issue-comments.ts","import { Component, Input, ViewChild } from '@angular/core';\nimport { NavController, NavParams, Events } from 'ionic-angular';\nimport { NgForm } from '@angular/forms';\n\nimport { Issue } from '../../models/issue';\nimport { IssueComment } from '../../models/issue-comment';\nimport { IssueProvider } from '../../providers/issue/issue';\n\n/**\n * Generated class for the IssueCommentFormPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'issue-comment-form',\n  templateUrl: 'issue-comment-form.html',\n})\nexport class IssueCommentForm {\n\n  @ViewChild(NgForm)\n  commentForm: NgForm;\n\n  @Input()\n  issue: Issue;\n\n  newComment: IssueComment;\n  subscribeError: boolean;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private issueService: IssueProvider,\n    public events: Events\n  ) {\n    this.newComment = new IssueComment();\n    this.subscribeError = false;\n  }\n\n  onCommentSubmit($event) {\n    // Prevent default HTML form behavior.\n    $event.preventDefault();\n\n    // Do not do anything if the form is invalid.\n    if (this.commentForm.invalid) {\n      return;\n    }\n\n    this.subscribeError = false;\n\n    this.issueService.createIssueComment(this.issue.id, this.newComment).subscribe(newComment => {\n      this.events.publish('comment:created');\n      this.commentForm.reset();\n    }, err => {\n      console.warn(`Could not create the comment: ${err.message}`);\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/issue-comment-form/issue-comment-form.ts","export class IssueComment {\r\n    authorHref: string;\r\n    createdAt: Date;\r\n    id: string;\r\n    text: string;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/issue-comment.ts","// Copy this file to config.ts and fill in appropriate values.\r\nexport const config = {\r\n  apiUrl: 'https://comem-appmob-2018g.herokuapp.com/api',\r\n  qimgUrl: 'https://comem-qimg.herokuapp.com/api',\r\n  qimgSecret: 'Gu1qbLccQloYrD6/OnQCRyqtWP7tB3m9zS3nHzrPbhIKKJQXk4l7kXVTxcYBqoXMVhBmNVW7FdYXsrxfr//H3NGjYug/0FMtqIW1Ng+nTL1g55sUHqWBRWPAOyuwo3mDIb47nKh5QY2ZTXnmPo4qZoPnKLOOY01aUaDNL/GxmsA='\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/config.ts"],"sourceRoot":""}